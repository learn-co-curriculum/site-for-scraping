function initOpenClose(){jQuery("div.person").openClose({activeClass:"active",opener:".opener",slider:".about-box",animSpeed:400,effect:"slide",hideOnClickOutside:!0,animStart:function(){var t=this,e=t.holder.parent(".instructors-box").outerWidth()-2,n=t.holder.parent(".instructors-box").offset().left-t.holder.offset().left+1;t.slider.css({width:e,left:n});var i=t.holder.hasClass(t.options.activeClass)?t.slider.outerHeight():0;t.holder.animate({marginBottom:i},t.options.animSpeed)}})}function initCustomAccordion(){var t=jQuery(window),e="active",n=350,i="slide-wrapper";jQuery(".accordion").each(function(){var s,o,r,a,l=jQuery(this),c=l.children(),u=!1,h=!1;c.each(function(){var c=jQuery(this),p=c.find(".opener"),d=c.find(".slide"),f=jQuery('<div class="'+i+'" />');f.insertAfter(p).append(d),c.hasClass(e)&&(p.hide(),o=c,r=d,s=f,a=p),p.on("click",function(){c.hasClass(e)||u||(u=!0,h=c.width()>l.width()/2,h?(itemDefaultStyles={height:c.outerHeight(!0)},itemActiveStyles={height:o.outerHeight(!0)},wrapperActiveStyles={height:s.outerHeight(!0)},p.slideUp(n),a.slideDown(n)):(itemDefaultStyles={width:c.outerWidth(!0)},itemActiveStyles={width:o.outerWidth(!0)},wrapperActiveStyles={width:s.outerWidth(!0)},r.css(itemActiveStyles),p.fadeOut(n),a.css(itemDefaultStyles).fadeIn(n)),f.css(wrapperActiveStyles),c.addClass(e).stop().css(itemDefaultStyles),t.trigger("fontresize"),o.stop().css(itemActiveStyles).animate(itemDefaultStyles,n),c.animate(itemActiveStyles,{duration:n,complete:function(){o.removeClass(e).removeAttr("style"),r.removeAttr("style"),p.removeAttr("style"),a.removeAttr("style"),c.removeAttr("style"),f.removeAttr("style"),t.trigger("fontresize"),o=c,r=d,a=p,s=f,u=!1}}))})})})}function initFixedBlock(){var t=jQuery(window),e="scrolled",n="fixed",i="hover",s=jQuery(".wrapper"),o=jQuery("#sidebar"),r=jQuery(".main-holder").next(),a=jQuery(".subnav"),l=jQuery("body");a.hover(function(){a.addClass(i)},function(){a.removeClass(i)}),jQuery("#header").each(function(){function c(){f=t.height(),l.addClass(e),h=v.outerHeight(!0),v.attr("data-small-height",h),l.removeClass(e),p=v.outerHeight(!0),s.css({paddingTop:p}),d=r.length?r.offset().top:0,u(),a.length&&(a.removeClass(n).css({top:""}),g=a.offset().top+a.outerHeight()-20)}function u(){if(m=t.scrollTop(),scrollRange=Math.max(m+f-d,0),m>=h+2?(l.addClass(e),m>=h+20?v.css("border-bottom","1px solid #f0f0f0"):v.css("border-bottom","none")):l.removeClass(e),a.length){var s=a.hasClass(i)?a.outerHeight():0;m>=g-h-s?a.addClass(n).css({top:h}):a.removeClass(n).css({top:""})}o.length&&(m>=p-h?o.addClass(n).css({top:h-scrollRange}):o.removeClass(n).css({top:""}))}var h,p,d,f,m,g,v=jQuery(this);t.on("resize orientationchange load",c),t.on("scroll",u),c(),setTimeout(c,1e3)})}function initAnchorLinks(){function t(t){var e=t.offset().top;return e-=s.data("small-height")}function e(e){var i=0;e&&(i=t(e)+1),a?o.scrollTop(i):o.stop().animate({scrollTop:i},n)}var n=1e3,i="active",s=jQuery("#header"),o=jQuery("html, body"),r=jQuery(window),a=/MSIE 10.*Touch/.test(navigator.userAgent);jQuery(".btn-top").on("click",function(t){t.preventDefault(),e(!1)}),jQuery("#student-projects-cta").on("click",function(t){t.preventDefault(),e(jQuery("#block8"))}),jQuery("#curriculum-cta").on("click",function(t){t.preventDefault(),e(jQuery("#block4"))}),jQuery("#meet-instructors-cta").on("click",function(t){t.preventDefault(),e(jQuery("#block5"))}),jQuery('#sidebar .menu a[href*="#"], .subnav a').each(function(){function n(){var e=r.scrollTop(),n=t(c),s=c.outerHeight(!0),a=o.next().children("a");if("undefined"!=typeof a.attr("href"))var l=a.attr("href"),u=l.indexOf("#"),h=jQuery(l.substr(u)),p=t(h);else var p=n+s;var d=e>=n&&p>e;d?o.addClass(i):o.removeClass(i)}var s=jQuery(this),o=s.parent(),a=s.attr("href"),l=a.indexOf("#");if(!(0>l)){var c=jQuery(a.substr(l));c&&c.length&&(s.on("click",function(t){t.preventDefault(),e(c)}),r.on("scroll orientationchange load resize",n))}})}function initCarousel(){jQuery("div.carousel").scrollGallery({mask:"div.mask",slider:"div.slideset",slides:"div.slide",btnPrev:"a.btn-prev",btnNext:"a.btn-next",pagerLinks:".pagination li",stretchSlideToMask:!0,maskAutoSize:!0,autoRotation:!1,switchTime:5e3,animSpeed:500,step:1,onChange:function(){var t=$(".student-slide.active").data("href");$("#student-slide-button").attr("href",t)}}),jQuery("div.carousel2").scrollGallery({mask:"div.mask",slider:"div.slideset",slides:"div.slide",btnPrev:"a.btn-prev",btnNext:"a.btn-next",pagerLinks:".pagination li",stretchSlideToMask:!0,maskAutoSize:!0,autoRotation:!1,switchTime:5e3,animSpeed:500,step:1})}function initSlideShow(){jQuery("div.slideshow").fadeGallery({slides:"div.slide",btnPrev:"a.btn-prev",btnNext:"a.btn-next",generatePagination:".pagination",event:"click",useSwipe:!0,autoRotation:!0,autoHeight:!0,switchTime:5e3,animSpeed:500})}function initTabs(){jQuery("ul.tabset").contentTabs({addToParent:!0,animSpeed:400,effect:"fade",tabLinks:"a",event:"mouseenter"}),jQuery("ul.multi-tabset").contentTabs({tabLinks:"a"})}function initMobileNav(){jQuery("body").mobileNav({hideOnClickOutside:!0,menuActiveClass:"nav-active",menuOpener:"#nav .opener",menuDrop:".drop"})}function initSameHeight(){jQuery("div.fourcolumns").sameHeight({elements:".box",flexible:!0,multiLine:!0}),jQuery("div.twocolumns").sameHeight({elements:"div.column",flexible:!0,multiLine:!0}),jQuery("div.row").sameHeight({elements:"div.column",flexible:!0,multiLine:!0}),jQuery("div.social-grid").sameHeight({elements:"div.box",flexible:!0,multiLine:!0}),jQuery("div.quotes-grid").sameHeight({elements:"div.box",flexible:!0,multiLine:!0}),jQuery(".footer-row").sameHeight({elements:".column",flexible:!0}),jQuery(".megamenu").sameHeight({elements:".column",flexible:!0}),jQuery(".megamenu").sameHeight({elements:".event",flexible:!0}),jQuery(".team-holder").sameHeight({elements:".person-box",flexible:!0,multiLine:!0}),jQuery(".quotes-box").sameHeight({elements:".box",flexible:!0,multiLine:!0}),jQuery(".sections").sameHeight({elements:".column",flexible:!0,multiLine:!0}),jQuery(".posts-holder").sameHeight({elements:".post",flexible:!0,multiLine:!0}),jQuery(".threecolumns").sameHeight({elements:".column",flexible:!0,multiLine:!0}),jQuery(".instructors-box").sameHeight({elements:".person",flexible:!0,multiLine:!0}),jQuery(".partners-list").sameHeight({elements:">li",flexible:!0,multiLine:!0})}function initBackgroundResize(){jQuery(".bg-stretch").each(function(){ImageStretcher.add({container:this,image:"img"})})}jQuery(function(){initFixedBlock(),initTabs(),initCarousel(),initSlideShow(),initMobileNav(),initSameHeight(),initBackgroundResize(),initAnchorLinks(),initCustomAccordion(),initOpenClose()}),function(t){function e(e){this.options=t.extend({addClassBeforeAnimation:!0,hideOnClickOutside:!1,activeClass:"active",opener:".opener",slider:".slide",animSpeed:400,effect:"fade",event:"click"},e),this.init()}e.prototype={init:function(){this.options.holder&&(this.findElements(),this.attachEvents(),this.makeCallback("onInit",this))},findElements:function(){this.holder=t(this.options.holder),this.opener=this.holder.find(this.options.opener),this.slider=this.holder.find(this.options.slider)},attachEvents:function(){var e=this;this.eventHandler=function(t){t.preventDefault(),e.slider.hasClass(n)?e.showSlide():e.hideSlide()},e.opener.bind(e.options.event,this.eventHandler),"over"===e.options.event&&(e.opener.bind("mouseenter",function(){e.showSlide()}),e.holder.bind("mouseleave",function(){e.hideSlide()})),e.outsideClickHandler=function(n){if(e.options.hideOnClickOutside){var i=t(n.target);i.is(e.holder)||i.closest(e.holder).length||e.hideSlide()}},this.holder.hasClass(this.options.activeClass)?t(document).bind("click touchstart",e.outsideClickHandler):this.slider.addClass(n)},showSlide:function(){var e=this;e.options.addClassBeforeAnimation&&e.holder.addClass(e.options.activeClass),e.slider.removeClass(n),t(document).bind("click touchstart",e.outsideClickHandler),e.makeCallback("animStart",!0),i[e.options.effect].show({box:e.slider,speed:e.options.animSpeed,complete:function(){e.options.addClassBeforeAnimation||e.holder.addClass(e.options.activeClass),e.makeCallback("animEnd",!0)}})},hideSlide:function(){var e=this;e.options.addClassBeforeAnimation&&e.holder.removeClass(e.options.activeClass),t(document).unbind("click touchstart",e.outsideClickHandler),e.makeCallback("animStart",!1),i[e.options.effect].hide({box:e.slider,speed:e.options.animSpeed,complete:function(){e.options.addClassBeforeAnimation||e.holder.removeClass(e.options.activeClass),e.slider.addClass(n),e.makeCallback("animEnd",!1)}})},destroy:function(){this.slider.removeClass(n).css({display:""}),this.opener.unbind(this.options.event,this.eventHandler),this.holder.removeClass(this.options.activeClass).removeData("OpenClose"),t(document).unbind("click touchstart",this.outsideClickHandler)},makeCallback:function(t){if("function"==typeof this.options[t]){var e=Array.prototype.slice.call(arguments);e.shift(),this.options[t].apply(this,e)}}};var n="js-slide-hidden";!function(){var e=t('<style type="text/css">')[0],i="."+n;i+="{position:absolute !important;left:-9999px !important;top:-9999px !important;display:block !important}",e.styleSheet?e.styleSheet.cssText=i:e.appendChild(document.createTextNode(i)),t("head").append(e)}();var i={slide:{show:function(t){t.box.stop(!0).hide().slideDown(t.speed,t.complete)},hide:function(t){t.box.stop(!0).slideUp(t.speed,t.complete)}},fade:{show:function(t){t.box.stop(!0).hide().fadeIn(t.speed,t.complete)},hide:function(t){t.box.stop(!0).fadeOut(t.speed,t.complete)}},none:{show:function(t){t.box.hide().show(0,t.complete)},hide:function(t){t.box.hide(0,t.complete)}}};t.fn.openClose=function(n){return this.each(function(){jQuery(this).data("OpenClose",new e(t.extend(n,{holder:this})))})}}(jQuery),function(t){function e(e){this.options=t.extend({mask:"div.mask",slider:">*",slides:">*",activeClass:"active",disabledClass:"disabled",btnPrev:"a.btn-prev",btnNext:"a.btn-next",generatePagination:!1,pagerList:"<ul>",pagerListItem:'<li><a href="#"></a></li>',pagerListItemText:"a",pagerLinks:".pagination li",currentNumber:"span.current-num",totalNumber:"span.total-num",btnPlay:".btn-play",btnPause:".btn-pause",btnPlayPause:".btn-play-pause",galleryReadyClass:"gallery-js-ready",autorotationActiveClass:"autorotation-active",autorotationDisabledClass:"autorotation-disabled",stretchSlideToMask:!1,circularRotation:!0,disableWhileAnimating:!1,autoRotation:!1,pauseOnHover:n?!1:!0,maskAutoSize:!1,switchTime:4e3,animSpeed:600,event:"click",swipeThreshold:15,handleTouch:!0,vertical:!1,useTranslate3D:!1,step:!1},e),this.init()}e.prototype={init:function(){this.options.holder&&(this.findElements(),this.attachEvents(),this.refreshPosition(),this.refreshState(!0),this.resumeRotation(),this.makeCallback("onInit",this))},findElements:function(){if(this.fullSizeFunction=this.options.vertical?"outerHeight":"outerWidth",this.innerSizeFunction=this.options.vertical?"height":"width",this.slideSizeFunction="outerHeight",this.maskSizeProperty="height",this.animProperty=this.options.vertical?"marginTop":"marginLeft",this.gallery=t(this.options.holder).addClass(this.options.galleryReadyClass),this.mask=this.gallery.find(this.options.mask),this.slider=this.mask.find(this.options.slider),this.slides=this.slider.find(this.options.slides),this.btnPrev=this.gallery.find(this.options.btnPrev),this.btnNext=this.gallery.find(this.options.btnNext),this.currentStep=0,this.stepsCount=0,this.options.step===!1){var e=this.slides.filter("."+this.options.activeClass);e.length&&(this.currentStep=this.slides.index(e))}this.calculateOffsets(),"string"==typeof this.options.generatePagination?(this.pagerLinks=t(),this.buildPagination()):(this.pagerLinks=this.gallery.find(this.options.pagerLinks),this.attachPaginationEvents()),this.btnPlay=this.gallery.find(this.options.btnPlay),this.btnPause=this.gallery.find(this.options.btnPause),this.btnPlayPause=this.gallery.find(this.options.btnPlayPause),this.curNum=this.gallery.find(this.options.currentNumber),this.allNum=this.gallery.find(this.options.totalNumber)},attachEvents:function(){var e=this;this.bindHandlers(["onWindowResize"]),t(window).bind("load resize orientationchange",this.onWindowResize),this.btnPrev.length&&(this.prevSlideHandler=function(t){t.preventDefault(),e.prevSlide()},this.btnPrev.bind(this.options.event,this.prevSlideHandler)),this.btnNext.length&&(this.nextSlideHandler=function(t){t.preventDefault(),e.nextSlide()},this.btnNext.bind(this.options.event,this.nextSlideHandler)),this.options.pauseOnHover&&!n&&(this.hoverHandler=function(){e.options.autoRotation&&(e.galleryHover=!0,e.pauseRotation())},this.leaveHandler=function(){e.options.autoRotation&&(e.galleryHover=!1,e.resumeRotation())},this.gallery.bind({mouseenter:this.hoverHandler,mouseleave:this.leaveHandler})),this.btnPlay.length&&(this.btnPlayHandler=function(t){t.preventDefault(),e.startRotation()},this.btnPlay.bind(this.options.event,this.btnPlayHandler)),this.btnPause.length&&(this.btnPauseHandler=function(t){t.preventDefault(),e.stopRotation()},this.btnPause.bind(this.options.event,this.btnPauseHandler)),this.btnPlayPause.length&&(this.btnPlayPauseHandler=function(t){t.preventDefault(),e.gallery.hasClass(e.options.autorotationActiveClass)?e.stopRotation():e.startRotation()},this.btnPlayPause.bind(this.options.event,this.btnPlayPauseHandler)),n&&this.options.useTranslate3D&&this.slider.css({"-webkit-transform":"translate3d(0px, 0px, 0px)"}),n&&this.options.handleTouch&&window.Hammer&&this.mask.length&&(this.swipeHandler=new Hammer.Manager(this.mask[0]),this.swipeHandler.add(new Hammer.Pan({direction:e.options.vertical?Hammer.DIRECTION_VERTICAL:Hammer.DIRECTION_HORIZONTAL,threshold:e.options.swipeThreshold})),this.swipeHandler.on("panstart",function(){e.galleryAnimating?e.swipeHandler.stop():(e.pauseRotation(),e.originalOffset=parseFloat(e.slider.css(e.animProperty)))}).on("panmove",function(t){var n=e.originalOffset+t[e.options.vertical?"deltaY":"deltaX"];n=Math.max(Math.min(0,n),e.maxOffset),e.slider.css(e.animProperty,n)}).on("panend",function(t){e.resumeRotation(),t.distance>e.options.swipeThreshold?t.offsetDirection===Hammer.DIRECTION_RIGHT||t.offsetDirection===Hammer.DIRECTION_DOWN?e.nextSlide():e.prevSlide():e.switchSlide()}))},onWindowResize:function(){this.galleryAnimating?this.resizeQueue=!0:(this.calculateOffsets(),this.refreshPosition(),this.buildPagination(),this.refreshState(),this.resizeQueue=!1)},refreshPosition:function(){this.currentStep=Math.min(this.currentStep,this.stepsCount-1),this.tmpProps={},this.tmpProps[this.animProperty]=this.getStepOffset(),this.slider.stop().css(this.tmpProps)},calculateOffsets:function(){var e,n,i=this;if(this.options.stretchSlideToMask){var s={};s[this.innerSizeFunction]=this.mask[this.innerSizeFunction](),this.slides.css(s)}if(this.maskSize=this.mask[this.innerSizeFunction](),this.sumSize=this.getSumSize(),this.maxOffset=this.maskSize-this.sumSize,this.options.vertical&&this.options.maskAutoSize){this.options.step=1,this.stepsCount=this.slides.length,this.stepOffsets=[0],e=0;for(var o=0;o<this.slides.length;o++)e-=t(this.slides[o])[this.fullSizeFunction](!0),this.stepOffsets.push(e);return void(this.maxOffset=e)}if("number"==typeof this.options.step&&this.options.step>0)for(this.slideDimensions=[],this.slides.each(t.proxy(function(e,n){i.slideDimensions.push(t(n)[i.fullSizeFunction](!0))},this)),this.stepOffsets=[0],this.stepsCount=1,e=n=0;e>this.maxOffset;)e-=this.getSlideSize(n,n+this.options.step),n+=this.options.step,this.stepOffsets.push(Math.max(e,this.maxOffset)),this.stepsCount++;else for(this.stepSize=this.maskSize,this.stepsCount=1,e=0;e>this.maxOffset;)e-=this.stepSize,this.stepsCount++},getSumSize:function(){var e=0;return this.slides.each(t.proxy(function(n,i){e+=t(i)[this.fullSizeFunction](!0)},this)),this.slider.css(this.innerSizeFunction,e),e},getStepOffset:function(t){return t=t||this.currentStep,"number"==typeof this.options.step?this.stepOffsets[this.currentStep]:Math.min(0,Math.max(-this.currentStep*this.stepSize,this.maxOffset))},getSlideSize:function(t,e){for(var n=0,i=t;i<Math.min(e,this.slideDimensions.length);i++)n+=this.slideDimensions[i];return n},buildPagination:function(){if("string"==typeof this.options.generatePagination&&(this.pagerHolder||(this.pagerHolder=this.gallery.find(this.options.generatePagination)),this.pagerHolder.length&&this.oldStepsCount!=this.stepsCount)){this.oldStepsCount=this.stepsCount,this.pagerHolder.empty(),this.pagerList=t(this.options.pagerList).appendTo(this.pagerHolder);for(var e=0;e<this.stepsCount;e++)t(this.options.pagerListItem).appendTo(this.pagerList).find(this.options.pagerListItemText).text(e+1);this.pagerLinks=this.pagerList.children(),this.attachPaginationEvents()}},attachPaginationEvents:function(){var t=this;this.pagerLinksHandler=function(e){e.preventDefault(),t.numSlide(t.pagerLinks.index(e.currentTarget))},this.pagerLinks.bind(this.options.event,this.pagerLinksHandler)},prevSlide:function(){this.options.disableWhileAnimating&&this.galleryAnimating||(this.currentStep>0?(this.currentStep--,this.switchSlide()):this.options.circularRotation&&(this.currentStep=this.stepsCount-1,this.switchSlide()))},nextSlide:function(t){this.options.disableWhileAnimating&&this.galleryAnimating||(this.currentStep<this.stepsCount-1?(this.currentStep++,this.switchSlide()):(this.options.circularRotation||t===!0)&&(this.currentStep=0,this.switchSlide()))},numSlide:function(t){this.currentStep!=t&&(this.currentStep=t,this.switchSlide())},switchSlide:function(){var t=this;this.galleryAnimating=!0,this.tmpProps={},this.tmpProps[this.animProperty]=this.getStepOffset(),this.slider.stop().animate(this.tmpProps,{duration:this.options.animSpeed,complete:function(){t.galleryAnimating=!1,t.resizeQueue&&t.onWindowResize(),t.makeCallback("onChange",t),t.autoRotate()}}),this.refreshState(),this.makeCallback("onBeforeChange",this)},refreshState:function(t){(1===this.options.step||this.stepsCount===this.slides.length)&&this.slides.removeClass(this.options.activeClass).eq(this.currentStep).addClass(this.options.activeClass),this.pagerLinks.removeClass(this.options.activeClass).eq(this.currentStep).addClass(this.options.activeClass),this.curNum.html(this.currentStep+1),this.allNum.html(this.stepsCount),this.options.maskAutoSize&&"number"==typeof this.options.step&&(this.tmpProps={},this.tmpProps[this.maskSizeProperty]=this.slides.eq(Math.min(this.currentStep,this.slides.length-1))[this.slideSizeFunction](!0),this.mask.stop()[t?"css":"animate"](this.tmpProps)),this.options.circularRotation||(this.btnPrev.add(this.btnNext).removeClass(this.options.disabledClass),0===this.currentStep&&this.btnPrev.addClass(this.options.disabledClass),this.currentStep===this.stepsCount-1&&this.btnNext.addClass(this.options.disabledClass)),this.gallery.toggleClass("not-enough-slides",this.sumSize<=this.maskSize)},startRotation:function(){this.options.autoRotation=!0,this.galleryHover=!1,this.autoRotationStopped=!1,this.resumeRotation()},stopRotation:function(){this.galleryHover=!0,this.autoRotationStopped=!0,this.pauseRotation()},pauseRotation:function(){this.gallery.addClass(this.options.autorotationDisabledClass),this.gallery.removeClass(this.options.autorotationActiveClass),clearTimeout(this.timer)},resumeRotation:function(){this.autoRotationStopped||(this.gallery.addClass(this.options.autorotationActiveClass),this.gallery.removeClass(this.options.autorotationDisabledClass),this.autoRotate())},autoRotate:function(){var t=this;clearTimeout(this.timer),!this.options.autoRotation||this.galleryHover||this.autoRotationStopped?this.pauseRotation():this.timer=setTimeout(function(){t.nextSlide(!0)},this.options.switchTime)},bindHandlers:function(e){var n=this;t.each(e,function(t,e){var i=n[e];n[e]=function(){return i.apply(n,arguments)}})},makeCallback:function(t){if("function"==typeof this.options[t]){var e=Array.prototype.slice.call(arguments);e.shift(),this.options[t].apply(this,e)}},destroy:function(){t(window).unbind("load resize orientationchange",this.onWindowResize),this.btnPrev.unbind(this.options.event,this.prevSlideHandler),this.btnNext.unbind(this.options.event,this.nextSlideHandler),this.pagerLinks.unbind(this.options.event,this.pagerLinksHandler),this.gallery.unbind("mouseenter",this.hoverHandler),this.gallery.unbind("mouseleave",this.leaveHandler),this.stopRotation(),this.btnPlay.unbind(this.options.event,this.btnPlayHandler),this.btnPause.unbind(this.options.event,this.btnPauseHandler),this.btnPlayPause.unbind(this.options.event,this.btnPlayPauseHandler),this.swipeHandler&&this.swipeHandler.destroy();var e=[this.options.galleryReadyClass,this.options.autorotationActiveClass,this.options.autorotationDisabledClass];this.gallery.removeClass(e.join(" ")),this.slider.add(this.slides).removeAttr("style"),"string"==typeof this.options.generatePagination&&this.pagerHolder.empty()}};var n=/Windows Phone/.test(navigator.userAgent)||"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;t.fn.scrollGallery=function(n){return this.each(function(){t(this).data("ScrollGallery",new e(t.extend(n,{holder:this})))})}}(jQuery),function(t){function e(e){this.options=t.extend({slides:"ul.slideset > li",activeClass:"active",disabledClass:"disabled",btnPrev:"a.btn-prev",btnNext:"a.btn-next",generatePagination:!1,pagerList:"<ul>",pagerListItem:'<li><a href="#"></a></li>',pagerListItemText:"a",pagerLinks:".pagination li",currentNumber:"span.current-num",totalNumber:"span.total-num",btnPlay:".btn-play",btnPause:".btn-pause",btnPlayPause:".btn-play-pause",galleryReadyClass:"gallery-js-ready",autorotationActiveClass:"autorotation-active",autorotationDisabledClass:"autorotation-disabled",autorotationStopAfterClick:!1,circularRotation:!0,switchSimultaneously:!0,disableWhileAnimating:!1,disableFadeIE:!1,autoRotation:!1,pauseOnHover:!0,autoHeight:!1,useSwipe:!1,swipeThreshold:15,switchTime:4e3,animSpeed:600,event:"click"},e),this.init()}e.prototype={init:function(){this.options.holder&&(this.findElements(),this.attachEvents(),this.refreshState(!0),this.autoRotate(),this.makeCallback("onInit",this))},findElements:function(){if(this.gallery=t(this.options.holder).addClass(this.options.galleryReadyClass),this.slides=this.gallery.find(this.options.slides),this.slidesHolder=this.slides.eq(0).parent(),this.stepsCount=this.slides.length,this.btnPrev=this.gallery.find(this.options.btnPrev),this.btnNext=this.gallery.find(this.options.btnNext),this.currentIndex=0,this.options.disableFadeIE&&!t.support.opacity&&(this.options.animSpeed=0),"string"==typeof this.options.generatePagination){this.pagerHolder=this.gallery.find(this.options.generatePagination).empty(),this.pagerList=t(this.options.pagerList).appendTo(this.pagerHolder);for(var e=0;e<this.stepsCount;e++)t(this.options.pagerListItem).appendTo(this.pagerList).find(this.options.pagerListItemText).text(e+1);this.pagerLinks=this.pagerList.children()}else this.pagerLinks=this.gallery.find(this.options.pagerLinks);var n=this.slides.filter("."+this.options.activeClass);n.length&&(this.currentIndex=this.slides.index(n)),this.prevIndex=this.currentIndex,this.btnPlay=this.gallery.find(this.options.btnPlay),this.btnPause=this.gallery.find(this.options.btnPause),this.btnPlayPause=this.gallery.find(this.options.btnPlayPause),this.curNum=this.gallery.find(this.options.currentNumber),this.allNum=this.gallery.find(this.options.totalNumber),this.slides.css({display:"block",opacity:0}).eq(this.currentIndex).css({opacity:""})},attachEvents:function(){var e=this;this.resizeHandler=function(){e.onWindowResize()},t(window).bind("load resize orientationchange",this.resizeHandler),this.btnPrev.length&&(this.btnPrevHandler=function(t){t.preventDefault(),e.prevSlide(),e.options.autorotationStopAfterClick&&e.stopRotation()},this.btnPrev.bind(this.options.event,this.btnPrevHandler)),this.btnNext.length&&(this.btnNextHandler=function(t){t.preventDefault(),e.nextSlide(),e.options.autorotationStopAfterClick&&e.stopRotation()},this.btnNext.bind(this.options.event,this.btnNextHandler)),this.pagerLinks.length&&(this.pagerLinksHandler=function(t){t.preventDefault(),e.numSlide(e.pagerLinks.index(t.currentTarget)),e.options.autorotationStopAfterClick&&e.stopRotation()},this.pagerLinks.bind(e.options.event,this.pagerLinksHandler)),this.btnPlay.length&&(this.btnPlayHandler=function(t){t.preventDefault(),e.startRotation()},this.btnPlay.bind(this.options.event,this.btnPlayHandler)),this.btnPause.length&&(this.btnPauseHandler=function(t){t.preventDefault(),e.stopRotation()},this.btnPause.bind(this.options.event,this.btnPauseHandler)),this.btnPlayPause.length&&(this.btnPlayPauseHandler=function(t){t.preventDefault(),e.gallery.hasClass(e.options.autorotationActiveClass)?e.stopRotation():e.startRotation()},this.btnPlayPause.bind(this.options.event,this.btnPlayPauseHandler)),this.options.useSwipe&&window.Hammer&&n&&(this.swipeHandler=new Hammer.Manager(this.gallery[0]),this.swipeHandler.add(new Hammer.Swipe({direction:Hammer.DIRECTION_HORIZONTAL,threshold:e.options.swipeThreshold})),this.swipeHandler.on("swipeleft",function(){e.nextSlide()}).on("swiperight",function(){e.prevSlide()})),this.options.pauseOnHover&&(this.hoverHandler=function(){e.options.autoRotation&&(e.galleryHover=!0,e.pauseRotation())},this.leaveHandler=function(){e.options.autoRotation&&(e.galleryHover=!1,e.resumeRotation())},this.gallery.bind({mouseenter:this.hoverHandler,mouseleave:this.leaveHandler}))},onWindowResize:function(){this.options.autoHeight&&this.slidesHolder.css({height:this.slides.eq(this.currentIndex).outerHeight(!0)})},prevSlide:function(){this.options.disableWhileAnimating&&this.galleryAnimating||(this.prevIndex=this.currentIndex,this.currentIndex>0?(this.currentIndex--,this.switchSlide()):this.options.circularRotation&&(this.currentIndex=this.stepsCount-1,this.switchSlide()))},nextSlide:function(t){this.options.disableWhileAnimating&&this.galleryAnimating||(this.prevIndex=this.currentIndex,this.currentIndex<this.stepsCount-1?(this.currentIndex++,this.switchSlide()):(this.options.circularRotation||t===!0)&&(this.currentIndex=0,this.switchSlide()))},numSlide:function(t){this.currentIndex!=t&&(this.prevIndex=this.currentIndex,this.currentIndex=t,this.switchSlide())},switchSlide:function(){var t=this;this.slides.length>1&&(this.galleryAnimating=!0,this.options.animSpeed?this.slides.eq(this.prevIndex).stop().animate({opacity:0},{duration:this.options.animSpeed}):this.slides.eq(this.prevIndex).css({opacity:0}),this.switchNext=function(){t.options.animSpeed?t.slides.eq(t.currentIndex).stop().animate({opacity:1},{duration:t.options.animSpeed}):t.slides.eq(t.currentIndex).css({opacity:""}),clearTimeout(this.nextTimer),this.nextTimer=setTimeout(function(){t.slides.eq(t.currentIndex).css({opacity:""}),t.galleryAnimating=!1,t.autoRotate(),t.makeCallback("onChange",t)},t.options.animSpeed)},this.options.switchSimultaneously?t.switchNext():(clearTimeout(this.switchTimer),this.switchTimer=setTimeout(function(){t.switchNext()},this.options.animSpeed)),this.refreshState(),this.makeCallback("onBeforeChange",this))},refreshState:function(t){this.slides.removeClass(this.options.activeClass).eq(this.currentIndex).addClass(this.options.activeClass),this.pagerLinks.removeClass(this.options.activeClass).eq(this.currentIndex).addClass(this.options.activeClass),this.curNum.html(this.currentIndex+1),this.allNum.html(this.stepsCount),this.options.autoHeight&&(t?this.slidesHolder.css({height:this.slides.eq(this.currentIndex).outerHeight(!0)}):this.slidesHolder.stop().animate({height:this.slides.eq(this.currentIndex).outerHeight(!0)},{duration:this.options.animSpeed})),this.options.circularRotation||(this.btnPrev.add(this.btnNext).removeClass(this.options.disabledClass),0===this.currentIndex&&this.btnPrev.addClass(this.options.disabledClass),this.currentIndex===this.stepsCount-1&&this.btnNext.addClass(this.options.disabledClass)),this.gallery.toggleClass("not-enough-slides",1===this.stepsCount)},startRotation:function(){this.options.autoRotation=!0,this.galleryHover=!1,this.autoRotationStopped=!1,this.resumeRotation()},stopRotation:function(){this.galleryHover=!0,this.autoRotationStopped=!0,this.pauseRotation()},pauseRotation:function(){this.gallery.addClass(this.options.autorotationDisabledClass),this.gallery.removeClass(this.options.autorotationActiveClass),clearTimeout(this.timer)},resumeRotation:function(){this.autoRotationStopped||(this.gallery.addClass(this.options.autorotationActiveClass),this.gallery.removeClass(this.options.autorotationDisabledClass),this.autoRotate())},autoRotate:function(){var t=this;clearTimeout(this.timer),!this.options.autoRotation||this.galleryHover||this.autoRotationStopped?this.pauseRotation():(this.gallery.addClass(this.options.autorotationActiveClass),this.timer=setTimeout(function(){t.nextSlide(!0)},this.options.switchTime))},makeCallback:function(t){if("function"==typeof this.options[t]){var e=Array.prototype.slice.call(arguments);e.shift(),this.options[t].apply(this,e)}},destroy:function(){this.btnPrev.unbind(this.options.event,this.btnPrevHandler),this.btnNext.unbind(this.options.event,this.btnNextHandler),this.pagerLinks.unbind(this.options.event,this.pagerLinksHandler),t(window).unbind("load resize orientationchange",this.resizeHandler),this.stopRotation(),this.btnPlay.unbind(this.options.event,this.btnPlayHandler),this.btnPause.unbind(this.options.event,this.btnPauseHandler),this.btnPlayPause.unbind(this.options.event,this.btnPlayPauseHandler),this.gallery.unbind("mouseenter",this.hoverHandler),this.gallery.unbind("mouseleave",this.leaveHandler),this.swipeHandler&&this.swipeHandler.destroy(),"string"==typeof this.options.generatePagination&&this.pagerHolder.empty();var e=[this.options.galleryReadyClass,this.options.autorotationActiveClass,this.options.autorotationDisabledClass];this.gallery.removeClass(e.join(" ")),this.slidesHolder.add(this.slides).removeAttr("style")}};var n=/Windows Phone/.test(navigator.userAgent)||"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;t.fn.fadeGallery=function(n){return this.each(function(){t(this).data("FadeGallery",new e(t.extend(n,{holder:this})))})}}(jQuery),function(t){t.fn.contentTabs=function(i){var s=t.extend({activeClass:"active",addToParent:!1,autoHeight:!1,autoRotate:!1,checkHash:!1,animSpeed:400,switchTime:3e3,effect:"none",tabLinks:"a",attrib:"href",event:"click"},i);return this.each(function(){function i(i,r){c=!0;var u=i.data("ctab"),h=r.data("ctab");m=r,l=h,(s.addToParent?f:d).removeClass(s.activeClass),(s.addToParent?r.data("cparent"):r).addClass(s.activeClass),o(u,!0),n[s.effect].hide({speed:s.animSpeed,tab:u,complete:function(){o(h.removeClass(e).width("")),n[s.effect].show({speed:s.animSpeed,tab:h,complete:function(){u.is(h)||u.width(u.width()).addClass(e),c=!1,o(h,!1),a(),t(window).trigger("resize")}})}})}function o(t,e){var n=t&&t.length?t:l;if(s.autoHeight&&n)if(u.stop(),e===!1)u.css({height:""});else{var i=n.attr("style");n.show().css({width:n.width()});var o=n.outerHeight(!0);i?n.attr("style",i):n.removeAttr("style"),e===!0?u.css({height:o}):u.animate({height:o},{duration:s.animSpeed})}}function r(){var t=(s.addToParent?f:d).filter("."+s.activeClass),e=(s.addToParent?f:d).index(t),n=d.eq(e<d.length-1?e+1:0);m=d.eq(e),i(m,n)}function a(){s.autoRotate&&d.length>1&&(clearTimeout(g),g=setTimeout(function(){c?a():r()},s.switchTime))}var l,c,u,h=t(this),p=t(),d=h.find(s.tabLinks),f=d.parent(),m=d.eq(0);s.checkHash&&d.filter("["+s.attrib+'="'+location.hash+'"]').length&&((s.addToParent?f:d).removeClass(s.activeClass),setTimeout(function(){window.scrollTo(0,0)},1)),d.each(function(){var o=t(this),r=o.attr(s.attrib),a=o.parent();r=r.substr(r.lastIndexOf("#"));var h=t(r).hide().addClass(e);p=p.add(h),o.data("cparent",a),o.data("ctab",h),!u&&h.length&&(u=h.parent());var d=s.addToParent?a:o;if(d.hasClass(s.activeClass)||s.checkHash&&location.hash===r)d.addClass(s.activeClass),m=o,l=h,h.removeClass(e).width(""),n[s.effect].show({tab:h,fast:!0});else{var f=h.width();f&&h.width(f),h.addClass(e)}o.bind(s.event,function(){o==m||c||(i(m,o),m=o)}),"href"===s.attrib&&o.bind("click",function(t){t.preventDefault()})}),s.autoHeight&&t(window).bind("resize orientationchange",function(){p.not(l).removeClass(e).show().each(function(){var t=jQuery(this),e=t.css({width:""}).width();e&&t.width(e)}).hide().addClass(e),o(l,!1)});var g;a()})};var e="js-tab-hidden";!function(){var n=t('<style type="text/css">')[0],i="."+e;i+="{position:absolute !important;left:-9999px !important;top:-9999px !important;display:block !important}",n.styleSheet?n.styleSheet.cssText=i:n.appendChild(document.createTextNode(i)),t("head").append(n)
}();var n={none:{show:function(t){t.tab.css({display:"block"}),t.complete&&t.complete()},hide:function(t){t.tab.css({display:"none"}),t.complete&&t.complete()}},fade:{show:function(t){t.fast&&(t.speed=1),t.tab.fadeIn(t.speed),t.complete&&setTimeout(t.complete,t.speed)},hide:function(t){t.fast&&(t.speed=1),t.tab.fadeOut(t.speed),t.complete&&setTimeout(t.complete,t.speed)}},slide:{show:function(e){var n=e.tab.show().css({width:e.tab.width()}).outerHeight(!0),i=t('<div class="effect-div">').insertBefore(e.tab).append(e.tab);i.css({width:"100%",overflow:"hidden",position:"relative"}),e.tab.css({marginTop:-n,display:"block"}),e.fast&&(e.speed=1),e.tab.animate({marginTop:0},{duration:e.speed,complete:function(){e.tab.css({marginTop:"",width:""}).insertBefore(i),i.remove(),e.complete&&e.complete()}})},hide:function(e){var n=e.tab.show().css({width:e.tab.width()}).outerHeight(!0),i=t('<div class="effect-div">').insertBefore(e.tab).append(e.tab);i.css({width:"100%",overflow:"hidden",position:"relative"}),e.fast&&(e.speed=1),e.tab.animate({marginTop:-n},{duration:e.speed,complete:function(){e.tab.css({display:"none",marginTop:"",width:""}).insertBefore(i),i.remove(),e.complete&&e.complete()}})}}}}(jQuery),function(t){function e(e){this.options=t.extend({container:null,hideOnClickOutside:!1,menuActiveClass:"nav-active",menuOpener:".nav-opener",menuDrop:".nav-drop",toggleEvent:"click",outsideClickEvent:"click touchstart pointerdown MSPointerDown"},e),this.initStructure(),this.attachEvents()}e.prototype={initStructure:function(){this.page=t("html"),this.container=t(this.options.container),this.opener=this.container.find(this.options.menuOpener),this.drop=this.container.find(this.options.menuDrop)},attachEvents:function(){var e=this;n&&(n(),n=null),this.outsideClickHandler=function(n){if(e.isOpened()){var i=t(n.target);i.closest(e.opener).length||i.closest(e.drop).length||e.hide()}return t(n.target).hasClass("nav-holder")?!1:void 0},this.openerClickHandler=function(t){t.preventDefault(),e.toggle()},this.opener.on(this.options.toggleEvent,this.openerClickHandler)},isOpened:function(){return this.container.hasClass(this.options.menuActiveClass)},show:function(){this.container.addClass(this.options.menuActiveClass),this.options.hideOnClickOutside&&this.page.on(this.options.outsideClickEvent,this.outsideClickHandler)},hide:function(){this.container.removeClass(this.options.menuActiveClass),this.options.hideOnClickOutside&&this.page.off(this.options.outsideClickEvent,this.outsideClickHandler)},toggle:function(){this.isOpened()?this.hide():this.show()},destroy:function(){this.container.removeClass(this.options.menuActiveClass),this.opener.off(this.options.toggleEvent,this.clickHandler),this.page.off(this.options.outsideClickEvent,this.outsideClickHandler)}};var n=function(){var e,n,i=t(window),s=t("html"),o="resize-active",r=function(){e=!1,s.removeClass(o)},a=function(){e||(e=!0,s.addClass(o)),clearTimeout(n),n=setTimeout(r,500)};i.on("resize orientationchange",a)};t.fn.mobileNav=function(n){return this.each(function(){var i=t.extend({},n,{container:this}),s=new e(i);t.data(this,"MobileNav",s)})}}(jQuery),function(t){function e(e,o){var r,a=t(),l=0,c=e.eq(0).offset().top;e.each(function(){var e=t(this);e.offset().top===c?a=a.add(this):(r=n(a),l=Math.max(l,i(a,r,o)),a=e,c=e.offset().top)}),a.length&&(r=n(a),l=Math.max(l,i(a,r,o))),o.biggestHeight&&e.css(o.useMinHeight&&s?"minHeight":"height",l)}function n(e){var n=0;return e.each(function(){n=Math.max(n,t(this).outerHeight())}),n}function i(e,n,i){var o,r="number"==typeof n?n:n.height();return e.removeClass(i.leftEdgeClass).removeClass(i.rightEdgeClass).each(function(){var e=t(this),a=0,l="border-box"===e.css("boxSizing")||"border-box"===e.css("-moz-box-sizing")||"border-box"===e.css("-webkit-box-sizing");"number"!=typeof n&&e.parents().each(function(){var e=t(this);return n.is(this)?!1:void(a+=e.outerHeight()-e.height())}),o=r-a,o-=l?0:e.outerHeight()-e.height(),o>0&&e.css(i.useMinHeight&&s?"minHeight":"height",o)}),e.filter(":first").addClass(i.leftEdgeClass),e.filter(":last").addClass(i.rightEdgeClass),o}t.fn.sameHeight=function(n){var o=t.extend({skipClass:"same-height-ignore",leftEdgeClass:"same-height-left",rightEdgeClass:"same-height-right",elements:">*",flexible:!1,multiLine:!1,useMinHeight:!1,biggestHeight:!1},n);return this.each(function(){function n(){c.css(o.useMinHeight&&s?"minHeight":"height",""),o.multiLine?e(c,o):i(c,l,o)}var r,a,l=t(this),c=l.find(o.elements).not("."+o.skipClass);if(c.length){n();var u=function(){a||(a=!0,n(),clearTimeout(r),r=setTimeout(function(){n(),setTimeout(function(){a=!1},10)},100))};o.flexible&&t(window).bind("resize orientationchange fontresize",u),t(window).bind("load",u)}})};var s="undefined"!=typeof document.documentElement.style.maxHeight}(jQuery),jQuery.onFontResize=function(t){return t(function(){var e="font-resize-frame-"+Math.floor(1e3*Math.random()),n=t("<iframe>").attr("id",e).addClass("font-resize-helper");if(n.css({width:"100em",height:"10px",position:"absolute",borderWidth:0,top:"-9999px",left:"-9999px"}).appendTo("body"),window.attachEvent&&!window.addEventListener)n.bind("resize",function(){t.onFontResize.trigger(n[0].offsetWidth/100)});else{var i=n[0].contentWindow.document;i.open(),i.write('<script>window.onload = function(){var em = parent.jQuery("#'+e+'")[0];window.onresize = function(){if(parent.jQuery.onFontResize){parent.jQuery.onFontResize.trigger(em.offsetWidth / 100);}}};</script>'),i.close()}jQuery.onFontResize.initialSize=n[0].offsetWidth/100}),{trigger:function(e){t(window).trigger("fontresize",[e])}}}(jQuery);var ImageStretcher={getDimensions:function(t){var e=t.imageRatio||t.imageWidth/t.imageHeight,n=t.maskWidth,i=n/e;return i<t.maskHeight&&(i=t.maskHeight,n=i*e),{width:n,height:i,top:(t.maskHeight-i)/2,left:(t.maskWidth-n)/2}},getRatio:function(t){if(t.prop("naturalWidth"))return t.prop("naturalWidth")/t.prop("naturalHeight");var e=new Image;return e.src=t.prop("src"),e.width/e.height},imageLoaded:function(t,e){var n=this,i=function(){e.call(n)};t.prop("complete")?i():t.one("load",i)},resizeHandler:function(){var t=this;jQuery.each(this.imgList,function(e,n){n.image.prop("complete")&&t.resizeImage(n.image,n.container)})},resizeImage:function(t,e){this.imageLoaded(t,function(){var n=this.getDimensions({imageRatio:this.getRatio(t),maskWidth:e.width(),maskHeight:e.height()});t.css({width:n.width,height:n.height,marginTop:n.top,marginLeft:n.left})})},add:function(t){var e=jQuery(t.container?t.container:window),n="string"==typeof t.image?e.find(t.image):jQuery(t.image);this.resizeImage(n,e),this.win||(this.resizeHandler=jQuery.proxy(this.resizeHandler,this),this.imgList=[],this.win=jQuery(window),this.win.on("resize orientationchange fontresize",this.resizeHandler)),this.imgList.push({container:e,image:n})}};/*! Hammer.JS - v2.0.4 - 2014-09-28
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2014 Jorik Tangelder;
 * Licensed under the MIT license */
Object.create&&!function(t,e,n,i){"use strict";function s(t,e,n){return setTimeout(u(t,n),e)}function o(t,e,n){return Array.isArray(t)?(r(t,n[e],n),!0):!1}function r(t,e,n){var s;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==i)for(s=0;s<t.length;)e.call(n,t[s],s,t),s++;else for(s in t)t.hasOwnProperty(s)&&e.call(n,t[s],s,t)}function a(t,e,n){for(var s=Object.keys(e),o=0;o<s.length;)(!n||n&&t[s[o]]===i)&&(t[s[o]]=e[s[o]]),o++;return t}function l(t,e){return a(t,e,!0)}function c(t,e,n){var i,s=e.prototype;i=t.prototype=Object.create(s),i.constructor=t,i._super=s,n&&a(i,n)}function u(t,e){return function(){return t.apply(e,arguments)}}function h(t,e){return typeof t==ue?t.apply(e?e[0]||i:i,e):t}function p(t,e){return t===i?e:t}function d(t,e,n){r(v(e),function(e){t.addEventListener(e,n,!1)})}function f(t,e,n){r(v(e),function(e){t.removeEventListener(e,n,!1)})}function m(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function g(t,e){return t.indexOf(e)>-1}function v(t){return t.trim().split(/\s+/g)}function y(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function b(t){return Array.prototype.slice.call(t,0)}function x(t,e,n){for(var i=[],s=[],o=0;o<t.length;){var r=e?t[o][e]:t[o];y(s,r)<0&&i.push(t[o]),s[o]=r,o++}return n&&(i=e?i.sort(function(t,n){return t[e]>n[e]}):i.sort()),i}function w(t,e){for(var n,s,o=e[0].toUpperCase()+e.slice(1),r=0;r<le.length;){if(n=le[r],s=n?n+o:e,s in t)return s;r++}return i}function S(){return fe++}function C(t){var e=t.ownerDocument;return e.defaultView||e.parentWindow}function k(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){h(t.options.enable,[t])&&n.handler(e)},this.init()}function T(t){var e,n=t.options.inputClass;return new(e=n?n:ve?z:ye?F:ge?q:j)(t,E)}function E(t,e,n){var i=n.pointers.length,s=n.changedPointers.length,o=e&ke&&i-s===0,r=e&(Ee|Pe)&&i-s===0;n.isFirst=!!o,n.isFinal=!!r,o&&(t.session={}),n.eventType=e,P(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function P(t,e){var n=t.session,i=e.pointers,s=i.length;n.firstInput||(n.firstInput=L(e)),s>1&&!n.firstMultiple?n.firstMultiple=L(e):1===s&&(n.firstMultiple=!1);var o=n.firstInput,r=n.firstMultiple,a=r?r.center:o.center,l=e.center=_(i);e.timeStamp=de(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=O(a,l),e.distance=D(a,l),N(n,e),e.offsetDirection=A(e.deltaX,e.deltaY),e.scale=r?R(r.pointers,i):1,e.rotation=r?M(r.pointers,i):0,I(n,e);var c=t.element;m(e.srcEvent.target,c)&&(c=e.srcEvent.target),e.target=c}function N(t,e){var n=e.center,i=t.offsetDelta||{},s=t.prevDelta||{},o=t.prevInput||{};(e.eventType===ke||o.eventType===Ee)&&(s=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=s.x+(n.x-i.x),e.deltaY=s.y+(n.y-i.y)}function I(t,e){var n,s,o,r,a=t.lastInterval||e,l=e.timeStamp-a.timeStamp;if(e.eventType!=Pe&&(l>Ce||a.velocity===i)){var c=a.deltaX-e.deltaX,u=a.deltaY-e.deltaY,h=H(l,c,u);s=h.x,o=h.y,n=pe(h.x)>pe(h.y)?h.x:h.y,r=A(c,u),t.lastInterval=e}else n=a.velocity,s=a.velocityX,o=a.velocityY,r=a.direction;e.velocity=n,e.velocityX=s,e.velocityY=o,e.direction=r}function L(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:he(t.pointers[n].clientX),clientY:he(t.pointers[n].clientY)},n++;return{timeStamp:de(),pointers:e,center:_(e),deltaX:t.deltaX,deltaY:t.deltaY}}function _(t){var e=t.length;if(1===e)return{x:he(t[0].clientX),y:he(t[0].clientY)};for(var n=0,i=0,s=0;e>s;)n+=t[s].clientX,i+=t[s].clientY,s++;return{x:he(n/e),y:he(i/e)}}function H(t,e,n){return{x:e/t||0,y:n/t||0}}function A(t,e){return t===e?Ne:pe(t)>=pe(e)?t>0?Ie:Le:e>0?_e:He}function D(t,e,n){n||(n=Me);var i=e[n[0]]-t[n[0]],s=e[n[1]]-t[n[1]];return Math.sqrt(i*i+s*s)}function O(t,e,n){n||(n=Me);var i=e[n[0]]-t[n[0]],s=e[n[1]]-t[n[1]];return 180*Math.atan2(s,i)/Math.PI}function M(t,e){return O(e[1],e[0],Re)-O(t[1],t[0],Re)}function R(t,e){return D(e[0],e[1],Re)/D(t[0],t[1],Re)}function j(){this.evEl=ze,this.evWin=Be,this.allow=!0,this.pressed=!1,k.apply(this,arguments)}function z(){this.evEl=We,this.evWin=qe,k.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function B(){this.evTarget=Xe,this.evWin=Ye,this.started=!1,k.apply(this,arguments)}function $(t,e){var n=b(t.touches),i=b(t.changedTouches);return e&(Ee|Pe)&&(n=x(n.concat(i),"identifier",!0)),[n,i]}function F(){this.evTarget=Ue,this.targetIds={},k.apply(this,arguments)}function W(t,e){var n=b(t.touches),i=this.targetIds;if(e&(ke|Te)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var s,o,r=b(t.changedTouches),a=[],l=this.target;if(o=n.filter(function(t){return m(t.target,l)}),e===ke)for(s=0;s<o.length;)i[o[s].identifier]=!0,s++;for(s=0;s<r.length;)i[r[s].identifier]&&a.push(r[s]),e&(Ee|Pe)&&delete i[r[s].identifier],s++;return a.length?[x(o.concat(a),"identifier",!0),a]:void 0}function q(){k.apply(this,arguments);var t=u(this.handler,this);this.touch=new F(this.manager,t),this.mouse=new j(this.manager,t)}function Q(t,e){this.manager=t,this.set(e)}function X(t){if(g(t,en))return en;var e=g(t,nn),n=g(t,sn);return e&&n?nn+" "+sn:e||n?e?nn:sn:g(t,tn)?tn:Ze}function Y(t){this.id=S(),this.manager=null,this.options=l(t||{},this.defaults),this.options.enable=p(this.options.enable,!0),this.state=on,this.simultaneous={},this.requireFail=[]}function V(t){return t&un?"cancel":t&ln?"end":t&an?"move":t&rn?"start":""}function U(t){return t==He?"down":t==_e?"up":t==Ie?"left":t==Le?"right":""}function K(t,e){var n=e.manager;return n?n.get(t):t}function G(){Y.apply(this,arguments)}function J(){G.apply(this,arguments),this.pX=null,this.pY=null}function Z(){G.apply(this,arguments)}function te(){Y.apply(this,arguments),this._timer=null,this._input=null}function ee(){G.apply(this,arguments)}function ne(){G.apply(this,arguments)}function ie(){Y.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function se(t,e){return e=e||{},e.recognizers=p(e.recognizers,se.defaults.preset),new oe(t,e)}function oe(t,e){e=e||{},this.options=l(e,se.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=T(this),this.touchAction=new Q(this,this.options.touchAction),re(this,!0),r(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function re(t,e){var n=t.element;r(t.options.cssProps,function(t,i){n.style[w(n.style,i)]=e?t:""})}function ae(t,n){var i=e.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=n,n.target.dispatchEvent(i)}var le=["","webkit","moz","MS","ms","o"],ce=e.createElement("div"),ue="function",he=Math.round,pe=Math.abs,de=Date.now,fe=1,me=/mobile|tablet|ip(ad|hone|od)|android/i,ge="ontouchstart"in t,ve=w(t,"PointerEvent")!==i,ye=ge&&me.test(navigator.userAgent),be="touch",xe="pen",we="mouse",Se="kinect",Ce=25,ke=1,Te=2,Ee=4,Pe=8,Ne=1,Ie=2,Le=4,_e=8,He=16,Ae=Ie|Le,De=_e|He,Oe=Ae|De,Me=["x","y"],Re=["clientX","clientY"];k.prototype={handler:function(){},init:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(C(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&f(this.element,this.evEl,this.domHandler),this.evTarget&&f(this.target,this.evTarget,this.domHandler),this.evWin&&f(C(this.element),this.evWin,this.domHandler)}};var je={mousedown:ke,mousemove:Te,mouseup:Ee},ze="mousedown",Be="mousemove mouseup";c(j,k,{handler:function(t){var e=je[t.type];e&ke&&0===t.button&&(this.pressed=!0),e&Te&&1!==t.which&&(e=Ee),this.pressed&&this.allow&&(e&Ee&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:we,srcEvent:t}))}});var $e={pointerdown:ke,pointermove:Te,pointerup:Ee,pointercancel:Pe,pointerout:Pe},Fe={2:be,3:xe,4:we,5:Se},We="pointerdown",qe="pointermove pointerup pointercancel";t.MSPointerEvent&&(We="MSPointerDown",qe="MSPointerMove MSPointerUp MSPointerCancel"),c(z,k,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),s=$e[i],o=Fe[t.pointerType]||t.pointerType,r=o==be,a=y(e,t.pointerId,"pointerId");s&ke&&(0===t.button||r)?0>a&&(e.push(t),a=e.length-1):s&(Ee|Pe)&&(n=!0),0>a||(e[a]=t,this.callback(this.manager,s,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(a,1))}});var Qe={touchstart:ke,touchmove:Te,touchend:Ee,touchcancel:Pe},Xe="touchstart",Ye="touchstart touchmove touchend touchcancel";c(B,k,{handler:function(t){var e=Qe[t.type];if(e===ke&&(this.started=!0),this.started){var n=$.call(this,t,e);e&(Ee|Pe)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:be,srcEvent:t})}}});var Ve={touchstart:ke,touchmove:Te,touchend:Ee,touchcancel:Pe},Ue="touchstart touchmove touchend touchcancel";c(F,k,{handler:function(t){var e=Ve[t.type],n=W.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:be,srcEvent:t})}}),c(q,k,{handler:function(t,e,n){var i=n.pointerType==be,s=n.pointerType==we;if(i)this.mouse.allow=!1;else if(s&&!this.mouse.allow)return;e&(Ee|Pe)&&(this.mouse.allow=!0),this.callback(t,e,n)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ke=w(ce.style,"touchAction"),Ge=Ke!==i,Je="compute",Ze="auto",tn="manipulation",en="none",nn="pan-x",sn="pan-y";Q.prototype={set:function(t){t==Je&&(t=this.compute()),Ge&&(this.manager.element.style[Ke]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return r(this.manager.recognizers,function(e){h(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),X(t.join(" "))},preventDefaults:function(t){if(!Ge){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var i=this.actions,s=g(i,en),o=g(i,sn),r=g(i,nn);return s||o&&n&Ae||r&&n&De?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var on=1,rn=2,an=4,ln=8,cn=ln,un=16,hn=32;Y.prototype={defaults:{},set:function(t){return a(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(o(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=K(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return o(t,"dropRecognizeWith",this)?this:(t=K(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(o(t,"requireFailure",this))return this;var e=this.requireFail;return t=K(t,this),-1===y(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(o(t,"dropRequireFailure",this))return this;t=K(t,this);var e=y(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(n.options.event+(e?V(i):""),t)}var n=this,i=this.state;ln>i&&e(!0),e(),i>=ln&&e(!0)},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=hn)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(hn|on)))return!1;t++}return!0},recognize:function(t){var e=a({},t);return h(this.options.enable,[this,e])?(this.state&(cn|un|hn)&&(this.state=on),this.state=this.process(e),void(this.state&(rn|an|ln|un)&&this.tryEmit(e))):(this.reset(),void(this.state=hn))},process:function(){},getTouchAction:function(){},reset:function(){}},c(G,Y,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=e&(rn|an),s=this.attrTest(t);return i&&(n&Pe||!s)?e|un:i||s?n&Ee?e|ln:e&rn?e|an:rn:hn}}),c(J,G,{defaults:{event:"pan",threshold:10,pointers:1,direction:Oe},getTouchAction:function(){var t=this.options.direction,e=[];return t&Ae&&e.push(sn),t&De&&e.push(nn),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,s=t.direction,o=t.deltaX,r=t.deltaY;return s&e.direction||(e.direction&Ae?(s=0===o?Ne:0>o?Ie:Le,n=o!=this.pX,i=Math.abs(t.deltaX)):(s=0===r?Ne:0>r?_e:He,n=r!=this.pY,i=Math.abs(t.deltaY))),t.direction=s,n&&i>e.threshold&&s&e.direction},attrTest:function(t){return G.prototype.attrTest.call(this,t)&&(this.state&rn||!(this.state&rn)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=U(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),c(Z,G,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[en]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&rn)},emit:function(t){if(this._super.emit.call(this,t),1!==t.scale){var e=t.scale<1?"in":"out";this.manager.emit(this.options.event+e,t)}}}),c(te,Y,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Ze]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(Ee|Pe)&&!o)this.reset();else if(t.eventType&ke)this.reset(),this._timer=s(function(){this.state=cn,this.tryEmit()},e.time,this);else if(t.eventType&Ee)return cn;return hn},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===cn&&(t&&t.eventType&Ee?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=de(),this.manager.emit(this.options.event,this._input)))}}),c(ee,G,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[en]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&rn)}}),c(ne,G,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Ae|De,pointers:1},getTouchAction:function(){return J.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Ae|De)?e=t.velocity:n&Ae?e=t.velocityX:n&De&&(e=t.velocityY),this._super.attrTest.call(this,t)&&n&t.direction&&t.distance>this.options.threshold&&pe(e)>this.options.velocity&&t.eventType&Ee},emit:function(t){var e=U(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),c(ie,Y,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[tn]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&ke&&0===this.count)return this.failTimeout();if(i&&o&&n){if(t.eventType!=Ee)return this.failTimeout();var r=this.pTime?t.timeStamp-this.pTime<e.interval:!0,a=!this.pCenter||D(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&r?this.count+=1:this.count=1,this._input=t;var l=this.count%e.taps;if(0===l)return this.hasRequireFailures()?(this._timer=s(function(){this.state=cn,this.tryEmit()},e.interval,this),rn):cn}return hn},failTimeout:function(){return this._timer=s(function(){this.state=hn},this.options.interval,this),hn},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==cn&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),se.VERSION="2.0.4",se.defaults={domEvents:!1,touchAction:Je,enable:!0,inputTarget:null,inputClass:null,preset:[[ee,{enable:!1}],[Z,{enable:!1},["rotate"]],[ne,{direction:Ae}],[J,{direction:Ae},["swipe"]],[ie],[ie,{event:"doubletap",taps:2},["tap"]],[te]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var pn=1,dn=2;oe.prototype={set:function(t){return a(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?dn:pn},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,i=this.recognizers,s=e.curRecognizer;(!s||s&&s.state&cn)&&(s=e.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],e.stopped===dn||s&&n!=s&&!n.canRecognizeWith(s)?n.reset():n.recognize(t),!s&&n.state&(rn|an|ln)&&(s=e.curRecognizer=n),o++}},get:function(t){if(t instanceof Y)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(o(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(o(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(y(e,t),1),this.touchAction.update(),this},on:function(t,e){var n=this.handlers;return r(v(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this},off:function(t,e){var n=this.handlers;return r(v(t),function(t){e?n[t].splice(y(n[t],e),1):delete n[t]}),this},emit:function(t,e){this.options.domEvents&&ae(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&re(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},a(se,{INPUT_START:ke,INPUT_MOVE:Te,INPUT_END:Ee,INPUT_CANCEL:Pe,STATE_POSSIBLE:on,STATE_BEGAN:rn,STATE_CHANGED:an,STATE_ENDED:ln,STATE_RECOGNIZED:cn,STATE_CANCELLED:un,STATE_FAILED:hn,DIRECTION_NONE:Ne,DIRECTION_LEFT:Ie,DIRECTION_RIGHT:Le,DIRECTION_UP:_e,DIRECTION_DOWN:He,DIRECTION_HORIZONTAL:Ae,DIRECTION_VERTICAL:De,DIRECTION_ALL:Oe,Manager:oe,Input:k,TouchAction:Q,TouchInput:F,MouseInput:j,PointerEventInput:z,TouchMouseInput:q,SingleTouchInput:B,Recognizer:Y,AttrRecognizer:G,Tap:ie,Pan:J,Swipe:ne,Pinch:Z,Rotate:ee,Press:te,on:d,off:f,each:r,merge:l,extend:a,inherit:c,bindFn:u,prefixed:w}),typeof define==ue&&define.amd?define(function(){return se}):"undefined"!=typeof module&&module.exports?module.exports=se:t[n]=se}(window,document,"Hammer"),window.matchMedia=window.matchMedia||function(t){var e,n=t.documentElement,i=n.firstElementChild||n.firstChild,s=t.createElement("body"),o=t.createElement("div");return o.id="mq-test-1",o.style.cssText="position:absolute;top:-100em",s.appendChild(o),function(t){return o.innerHTML='&shy;<style media="'+t+'"> #mq-test-1 { width: 42px; }</style>',n.insertBefore(s,i),e=42==o.offsetWidth,n.removeChild(s),{matches:e,media:t}}}(document),function(t){t.picturefill=function(){for(var e=t.document.getElementsByTagName("span"),n=0,i=e.length;i>n;n++)if(null!==e[n].getAttribute("data-picture")){for(var s=e[n].getElementsByTagName("span"),o=[],r=0,a=s.length;a>r;r++){var l=s[r].getAttribute("data-media");(!l||t.matchMedia&&t.matchMedia(l).matches)&&o.push(s[r])}var c=e[n].getElementsByTagName("img")[0];if(o.length){var u=o.pop();c&&"NOSCRIPT"!==c.parentNode.nodeName||(c=t.document.createElement("img"),c.alt=e[n].getAttribute("data-alt")),u.getAttribute("data-width")?c.setAttribute("width",u.getAttribute("data-width")):c.removeAttribute("width"),u.getAttribute("data-height")?c.setAttribute("height",u.getAttribute("data-height")):c.removeAttribute("height"),c.src=u.getAttribute("data-src"),u.appendChild(c)}else c&&c.parentNode.removeChild(c)}},t.addEventListener?(t.addEventListener("resize",t.picturefill,!1),t.addEventListener("DOMContentLoaded",function(){t.picturefill(),t.removeEventListener("load",t.picturefill,!1)},!1),t.addEventListener("load",t.picturefill,!1)):t.attachEvent&&t.attachEvent("onload",t.picturefill)}(this);